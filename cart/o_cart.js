var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,b){a.raw=b;return a};
function checkStock(a,b){var d=product[parseInt(a)],e=document.getElementById("quantity"+a).value;$.get("update_cart.php",{check:"true",action:d,quantity:e},function(c){$("#checker").html(c);c=document.getElementById("checker");"button"==b?parseInt(document.getElementById("quantity"+a).value)>=quantity[parseInt(a)]+parseInt(c.innerHTML)?alert("Invalid quantity."):document.getElementById("quantity"+a).stepUp():"type"==b&&parseInt(document.getElementById("quantity"+a).value)>quantity[parseInt(a)]+parseInt(c.innerHTML)&&
(alert("Invalid quantity."),document.getElementById("quantity"+a).value=quantity[parseInt(a)]+parseInt(c.innerHTML));updateAll(a)})}function updateGrandTotal(){for(i=grandTotal=0;i<total.length;i++)grandTotal+=total[i];grandTotal=grandTotal.toFixed(2);document.getElementById("grandTotal").innerHTML=grandTotal}
function updateTotal(a){var b=document.getElementById("total"+a);total[parseInt(a)]=document.getElementById("quantity"+a).value*price[parseInt(a)];final=(Math.round(100*total[parseInt(a)])/100).toFixed(2);b.innerHTML=final}function updateDatabase(a){var b=product[parseInt(a)],d=document.getElementById("quantity"+a).value;$.get("update_cart.php",{update:"true",action:b,quantity:d},function(e){$("#quantity"+a).html(e)})}
function updateAll(a){quantity[parseInt(a)]=parseInt(document.getElementById("quantity"+a).value);updateTotal(a);updateGrandTotal();updateDatabase(a)}
document.addEventListener("DOMContentLoaded",function(){$("button").on("click",function(a){a.preventDefault();q=this.id.substring(1);"0"==this.id.charAt(0)?1>=parseInt(document.getElementById("quantity"+q).value)?alert("Invalid quantity."):(document.getElementById("quantity"+q).stepDown(),updateAll(q)):"1"==this.id.charAt(0)&&checkStock(q,"button")});$("input").on("keyup",function(){q=this.id.substring(8);1<=parseInt(this.value)||(alert("Invalid quantity."),this.value=1);checkStock(q,"type")})});